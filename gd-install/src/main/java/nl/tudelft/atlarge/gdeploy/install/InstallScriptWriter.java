package nl.tudelft.atlarge.gdeploy.install;

import nl.tudelft.atlarge.gdeploy.core.script.ShellScriptBuilder;

/**
 * Created by Chris Lemaire on 5-9-2017.
 */
public abstract class InstallScriptWriter {

    protected ShellScriptBuilder builder;

    protected String product;

    protected InstallScriptWriter(ShellScriptBuilder builder, String product) {
        this.builder = builder;
        this.product = product;
    }

    protected ShellScriptBuilder writeInitializer(String version) {
        builder.appendLine("# Generated by " + getClass().getName() + ".")
                .appendLine("# Intended product + version: " + product + "-" + version)
                .appendLine("cd " + builder.getCurrentRemoteSystem().frameworks())

                .appendLine("mkdir -p ./" + product + "/" + version)
                .appendLine("cd ./" + product + "/" + version);

        return builder;
    }

    public abstract ShellScriptBuilder write(String version);

}
